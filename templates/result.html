<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Malaria Classification Results üî¨</title>
    <link
      rel="icon"
      href="{{ url_for('static', filename='images/icon.png') }}"
      type="image/png"
    />

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome for Icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Animate.css for animations -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <style>
      body {
        background-color: #f4f6f9;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        transition: background-color 0.5s ease;
      }

      /* Pulse animation for the header icon */
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      .result-header {
        background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
        color: white;
        padding: 2rem 1rem;
        text-align: center;
        border-radius: 0 0 30px 30px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
      }

      .result-header i {
        animation: pulse 2s infinite;
        display: inline-block;
      }

      .result-badge {
        font-size: 2.5rem;
        font-weight: bold;
        padding: 1rem 1.5rem;
        border-radius: 15px;
        display: inline-block;
        transition: all 0.3s ease;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        animation: fadeInUp 1s;
      }

      .result-badge:hover {
        transform: translateY(-5px);
      }

      .positive {
        background-color: #dc3545;
        color: white;
      }

      .negative {
        background-color: #28a745;
        color: white;
      }

      .info-section {
        background-color: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        padding: 2.5rem;
        margin-top: 2rem;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        animation: fadeIn 1s;
      }

      .info-section:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
      }

      .metric-card {
        background-color: #f8f9fa;
        border-left: 4px solid #2575fc;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border-radius: 10px;
        transition: all 0.3s ease;
        animation: fadeInLeft 1s;
      }

      .metric-card:hover {
        transform: translateX(5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      }

      .metric-card h4 {
        color: #2575fc;
        margin-bottom: 1rem;
      }

      .footer {
        background-color: #f1f3f5;
        padding: 1.5rem;
        margin-top: 3rem;
        border-radius: 20px 20px 0 0;
        box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.05);
      }

      /* Fade-in animation for sections */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInLeft {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .alert {
        border-radius: 15px;
        animation: fadeIn 1.5s;
      }

      .img-container {
        overflow: hidden;
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        transition: transform 0.5s ease;
      }

      .img-container:hover {
        transform: scale(1.02);
      }

      .btn-back {
        background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
        color: white;
        border: none;
        padding: 0.8rem 2rem;
        border-radius: 50px;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(37, 117, 252, 0.2);
        margin-top: 1.5rem;
        text-decoration: none;
        display: inline-block;
      }

      .btn-back:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(37, 117, 252, 0.3);
        color: white;
      }

      .section-title {
        position: relative;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        text-align: center;
      }

      .section-title:after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 3px;
        background: linear-gradient(to right, #6a11cb, #2575fc);
      }
    </style>
  </head>
  <body>
    <div class="result-header animate__animated animate__fadeIn">
      <div class="container">
        <h1 class="display-4 mb-4 animate__animated animate__bounceIn">
          {% if prediction == 'Malaria Positive' %}
          <i class="fas fa-virus text-danger"></i>
          {% else %}
          <i class="fas fa-shield-virus text-success"></i>
          {% endif %} Malaria Classification Result
        </h1>

        <div
          class="result-badge animate__animated animate__zoomIn {% if prediction == 'Malaria Positive' %}positive{% else %}negative{% endif %}"
        >
          {{ prediction }}
        </div>
      </div>
    </div>

    <div class="container">
      <div class="info-section">
        <h2 class="section-title animate__animated animate__fadeIn">
          Understanding the Result
        </h2>

        <div class="row">
          <div class="col-md-6">
            <div class="metric-card animate__animated animate__fadeInLeft">
              <h4><i class="fas fa-chart-pie me-2"></i>Diagnostic Accuracy</h4>
              <p>
                Our deep learning model achieves 95% accuracy in malaria cell
                classification.
              </p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="metric-card animate__animated animate__fadeInRight">
              <h4><i class="fas fa-microscope me-2"></i>Model Performance</h4>
              <ul class="list-unstyled">
                <li><strong>F1 Score:</strong> 95%</li>
                <li><strong>Recall Score:</strong> 92%</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="row mt-4">
          <div
            class="col-12 animate__animated animate__fadeIn"
            style="animation-delay: 0.3s"
          >
            <h3>
              <i class="fas fa-info-circle me-2 text-primary"></i>About Our
              Classification Method
            </h3>
            <p>
              Our application uses a sophisticated Two-Layered Convolutional
              Neural Network to analyze cell images. The dataset is sourced from
              the US National Library of Medicine's NIH Website, featuring
              segmented thin blood smear slide images from the Malaria Screener
              research activity.
            </p>
          </div>
        </div>

        <div
          class="text-center mt-5 animate__animated animate__fadeIn"
          style="animation-delay: 0.5s"
        >
          <div class="img-container">
            <img
              src="{{url_for('static', filename='analysis.jpg')}}"
              alt="Confusion Matrix and Validation Accuracy"
              class="img-fluid rounded"
            />
          </div>
          <p class="text-muted mt-3">
            <em>Confusion Matrix and Validation Accuracy Graph</em>
          </p>
        </div>

        <div
          class="alert alert-info mt-5 animate__animated animate__fadeIn"
          style="animation-delay: 0.7s"
          role="alert"
        >
          <h4 class="alert-heading">
            <i class="fas fa-lightbulb me-2"></i>Important Healthcare Insight
          </h4>
          <p>
            In regions where malaria is less common, healthcare providers might
            overlook the diagnosis. Symptoms can be subtle, appearing 10-15 days
            after a mosquito bite. If not treated within 24 hours, P. falciparum
            malaria can progress to severe illness.
          </p>
          <hr />
          <p class="mb-0">
            <strong>Recommendation:</strong> Always consult a healthcare
            professional for definitive diagnosis and treatment, regardless of
            this digital screening result.
          </p>
        </div>

        <div
          class="text-center mt-4 animate__animated animate__fadeIn"
          style="animation-delay: 0.9s"
        >
          <a href="{{ url_for('home') }}" class="btn btn-back">
            <i class="fas fa-arrow-left me-2"></i>Back to Upload
          </a>
        </div>
      </div>
    </div>

    <footer
      class="footer text-center animate__animated animate__fadeIn"
      style="animation-delay: 1s"
    >
      <p class="mb-0">
        Made with <span class="text-danger">‚ù§</span> by
        <a
          href="#"
          target="_blank"
          rel="noopener noreferrer"
          class="text-decoration-none"
        >
          Adeoye Maroof
        </a>
      </p>
    </footer>

    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- AOS (Animate On Scroll) for more animation options -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>

    <script>
      // Optional: Add scroll reveal animations
      document.addEventListener("DOMContentLoaded", () => {
        // Add hover effect to result badge
        const resultBadge = document.querySelector(".result-badge");
        resultBadge.addEventListener("mouseover", () => {
          resultBadge.style.transform = "scale(1.05)";
        });
        resultBadge.addEventListener("mouseout", () => {
          resultBadge.style.transform = "scale(1)";
        });

        // Add smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute("href")).scrollIntoView({
              behavior: "smooth",
            });
          });
        });
      });
    </script>
  </body>
</html>
